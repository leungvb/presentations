<!DOCTYPE html>
<html>
  <head>
    <title>Scaling Flask with Kubernetes</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      table {
        width: 100%;
        border-collapse: collapse;
      }

      table, th, td {
        border: 1px solid black;
      }
      th, td {
        padding: 5px;
        text-align: left;
      }
      td {
        padding-left: 5px;
        padding-right: 5px;
      }
      .remark-code { font-family: 'Ubuntu Mono'; }
      .remark-inline-code {
        font-family: 'Ubuntu Mono';
        padding: 2px 4px;
        font-size: 90%;
        color: #c7254e;
        background-color: #f9f2f4;
        border-radius: 0;
       }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# Scaling Flask with Kubernetes

<img src="images/kubernetes-logo.png" alt="kubernetes logo" style="width:20%;">

<br>

<div>
  <span style="vertical-align:60%;">Presented by <em>Michael Herman</em> at <a href="https://www.boulderpython.org/">Boulder Python</a></span>&nbsp;
  <img src="images/python-logo.png" alt="python logo" style="width:5%;">
</div>

---

### Agenda

--

##### (1) Intro

1. About Me
1. Objectives

--

##### (2) Theory

1. Container Orchestration
1. Kubernetes 101

--

##### (3) Practice

1. App Overview
1. Minikube
1. Google Cloud Platform (GCP)
1. GCP Deployment

--

##### (4) Next Steps

---

class: center, middle

## Intro

---

### About Michael

```
$ whoami
michael.herman
```

<p style="margin:0"><img src="images/me.png" style="max-width: 10%;" alt="me"></p>

--

#### Day Job

Software Engineer at [ClickFox](https://www.clickfox.com/).
&nbsp;
<img src="images/clickfox.png" style="max-width: 4%; border:0; box-shadow: none;" alt="clickfox logo">

--

#### Also

1. Co-founder/author of [Real Python](https://realpython.com)
1. üòç - [tech writing/education](http://mherman.org), [open source](http://github.com/mjhea0), [financial models](http://www.starterfinancialmodel.com/), [radiohead](http://radiohead.com/)

<a href="https://testdriven.io">
  <img src="images/mobile_image.png" style="max-width: 20%; padding-top:10px; box-shadow: none;" alt="testdriven.io">
</a>

---

### Objectives

By the end of this talk, you should be able to...

--

1. foo
1. bar

---

class: center, middle

## Theory

---

### Container Orchestration

--

sdjkhdsadjkh

https://testdriven.io/running-flask-on-docker-swarm#what-is-container-orchestration


More:

1. How do containers located on different servers talk to one another?
1. Scaling horizontally
1. Service discovery
1. Security
1. Zero-downtime deploys + rollbacks

More:

1. Replication of components
1. Auto-scaling
1. Load balancing
1. Rolling updates
1. Logging across components
1. Monitoring and health checking
1. Service discovery
1. Authentication

---

### Kubernetes 101

--

Core concepts

1. pod
1. node
1. services
1. labels
1. deployments

---

class: center, middle

## Practice

---

### App Overview

--

vue + flask + postgres

---

### Minikube

--

1. What is it?
1. Set up
1. Running the app locally

---

### Google Cloud Platform (GCP)

--

1. Google Cloud SDK
1. Kubernetes Engine
1. Container Registry
1. Cloud Storage

---

### GCP Deployment

--

1. Kubectl
1. Helm
1. Postgres
1. Flask
1. Ingress

---

### That's it!

What's next?

--

##### What has not been covered?

1. Leases and revocation
1. Setting up new policies
1. Deployment
1. Configuring TLS
1. High availability

--

##### Resources

1. Full blog post - https://testdriven.io/managing-secrets-with-vault-and-consul
1. Slides - http://mherman.org/presentations/vault
1. Repo - https://github.com/testdrivenio/vault-docker-example
1. Why We Need Dynamic Secrets - https://www.hashicorp.com/blog/why-we-need-dynamic-secrets (advantages of using dynamic secrets)

--

##### Questions?

‚úåÔ∏è


    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
